$(document).ready(function() {

    function print_ob(data) {
        var html = '<pre style="border: 1px solid red; padding: 10px;">' + JSON.stringify(data) + '</pre>'
        $("body").prepend(html);
    }

    $(document).on("change", ".userFile", function(event) {

        var inputValue = $(this).val().trim();

        if (inputValue != "") {

            var files = event.target.files;
            var inputId = $(this).attr("id");
            var thisLabel = $(document).find("label[for='"+inputId+"']");
            var file = files[0];
            var picReader = new FileReader();

            var newInput = $(this).clone();
            var newLabel = $(thisLabel).clone();

            var res = inputId.split("_");
            var newIdNumber = parseInt(res[1]) + 1;
            var newId = res[0] + "_" + newIdNumber;

            $(newLabel).attr("for", newId);
            $(newInput).attr("id", newId);

            var div = document.createElement("div");

            $(div).addClass("col-xs-6 col-sm-4 col-md-3 col-lg-2");
            $(div).append(newLabel)
            $(div).append(newInput);

            $("#addInputArea").append(div);

            picReader.addEventListener("load", function(event) {
                var picFile = event.target.result;
                var picFile = file.type == "video/mp4" ? "/images/video-poster.jpg" : event.target.result;

                $(thisLabel).find("span").remove();
                $(thisLabel).css("background-image", "url("+picFile+")");
            });

            picReader.readAsDataURL(file);
        }
    })
})

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgZnVuY3Rpb24gcHJpbnRfb2IoZGF0YSkge1xuICAgICAgICB2YXIgaHRtbCA9ICc8cHJlIHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgcmVkOyBwYWRkaW5nOiAxMHB4O1wiPicgKyBKU09OLnN0cmluZ2lmeShkYXRhKSArICc8L3ByZT4nXG4gICAgICAgICQoXCJib2R5XCIpLnByZXBlbmQoaHRtbCk7XG4gICAgfVxuXG4gICAgJChkb2N1bWVudCkub24oXCJjaGFuZ2VcIiwgXCIudXNlckZpbGVcIiwgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9ICQodGhpcykudmFsKCkudHJpbSgpO1xuXG4gICAgICAgIGlmIChpbnB1dFZhbHVlICE9IFwiXCIpIHtcblxuICAgICAgICAgICAgdmFyIGZpbGVzID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xuICAgICAgICAgICAgdmFyIGlucHV0SWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcbiAgICAgICAgICAgIHZhciB0aGlzTGFiZWwgPSAkKGRvY3VtZW50KS5maW5kKFwibGFiZWxbZm9yPSdcIitpbnB1dElkK1wiJ11cIik7XG4gICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xuICAgICAgICAgICAgdmFyIHBpY1JlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgICAgICAgIHZhciBuZXdJbnB1dCA9ICQodGhpcykuY2xvbmUoKTtcbiAgICAgICAgICAgIHZhciBuZXdMYWJlbCA9ICQodGhpc0xhYmVsKS5jbG9uZSgpO1xuXG4gICAgICAgICAgICB2YXIgcmVzID0gaW5wdXRJZC5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICB2YXIgbmV3SWROdW1iZXIgPSBwYXJzZUludChyZXNbMV0pICsgMTtcbiAgICAgICAgICAgIHZhciBuZXdJZCA9IHJlc1swXSArIFwiX1wiICsgbmV3SWROdW1iZXI7XG5cbiAgICAgICAgICAgICQobmV3TGFiZWwpLmF0dHIoXCJmb3JcIiwgbmV3SWQpO1xuICAgICAgICAgICAgJChuZXdJbnB1dCkuYXR0cihcImlkXCIsIG5ld0lkKTtcblxuICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgICAgICQoZGl2KS5hZGRDbGFzcyhcImNvbC14cy02IGNvbC1zbS00IGNvbC1tZC0zIGNvbC1sZy0yXCIpO1xuICAgICAgICAgICAgJChkaXYpLmFwcGVuZChuZXdMYWJlbClcbiAgICAgICAgICAgICQoZGl2KS5hcHBlbmQobmV3SW5wdXQpO1xuXG4gICAgICAgICAgICAkKFwiI2FkZElucHV0QXJlYVwiKS5hcHBlbmQoZGl2KTtcblxuICAgICAgICAgICAgcGljUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHBpY0ZpbGUgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgICAgIHZhciBwaWNGaWxlID0gZmlsZS50eXBlID09IFwidmlkZW8vbXA0XCIgPyBcIi9pbWFnZXMvdmlkZW8tcG9zdGVyLmpwZ1wiIDogZXZlbnQudGFyZ2V0LnJlc3VsdDtcblxuICAgICAgICAgICAgICAgICQodGhpc0xhYmVsKS5maW5kKFwic3BhblwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAkKHRoaXNMYWJlbCkuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLCBcInVybChcIitwaWNGaWxlK1wiKVwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwaWNSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgfVxuICAgIH0pXG59KVxuIl19
