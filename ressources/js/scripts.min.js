$(document).ready(function() {

    // $('.lightbox-image').on("click", function (event) {
    //     event.preventDefault();
    //     event = event || window.event;
    //     var target = event.target || event.srcElement,
    //     link = target.src ? target.parentNode : target,
    //     options = {index: link, event: event},
    //     links = this.getElementsByTagName('a');
    //     blueimp.Gallery(links, options);
    // });

//     document.getElementById('links').onclick = function (event) {
//     event = event || window.event;
//     var target = event.target || event.srcElement,
//         link = target.src ? target.parentNode : target,
//         options = {index: link, event: event},
//         links = this.getElementsByTagName('a');
//     blueimp.Gallery(links, options);
// };






    function print_ob(data) {
        var html = '<pre style="border: 1px solid red; padding: 10px;">' + JSON.stringify(data) + '</pre>'
        $("body").prepend(html);
    }

    $(document).on("change", ".userFile", function(event) {

        var inputValue = $(this).val().trim();

        if (inputValue != "") {

            var files = event.target.files;
            var inputId = $(this).attr("id");
            var thisLabel = $(document).find("label[for='"+inputId+"']");
            var file = files[0];
            var picReader = new FileReader();

            var newInput = $(this).clone();
            var newLabel = $(thisLabel).clone();

            var res = inputId.split("_");
            var newIdNumber = parseInt(res[1]) + 1;
            var newId = res[0] + "_" + newIdNumber;

            $(newLabel).attr("for", newId);
            $(newInput).attr("id", newId);

            var div = document.createElement("div");

            $(div).addClass("col-xs-6 col-sm-4 col-md-3 col-lg-2");
            $(div).append(newLabel)
            $(div).append(newInput);

            $("#addInputArea").append(div);

            picReader.addEventListener("load", function(event) {
                var picFile = event.target.result;
                var picFile = file.type == "video/mp4" ? "/images/video-poster.jpg" : event.target.result;

                $(thisLabel).find("span").remove();
                $(thisLabel).css("background-image", "url("+picFile+")");
            });

            picReader.readAsDataURL(file);
        }
    })
})

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gJCgnLmxpZ2h0Ym94LWltYWdlJykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAvLyAgICAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgLy8gICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudCxcbiAgICAvLyAgICAgbGluayA9IHRhcmdldC5zcmMgPyB0YXJnZXQucGFyZW50Tm9kZSA6IHRhcmdldCxcbiAgICAvLyAgICAgb3B0aW9ucyA9IHtpbmRleDogbGluaywgZXZlbnQ6IGV2ZW50fSxcbiAgICAvLyAgICAgbGlua3MgPSB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7XG4gICAgLy8gICAgIGJsdWVpbXAuR2FsbGVyeShsaW5rcywgb3B0aW9ucyk7XG4gICAgLy8gfSk7XG5cbi8vICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlua3MnKS5vbmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4vLyAgICAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4vLyAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50LFxuLy8gICAgICAgICBsaW5rID0gdGFyZ2V0LnNyYyA/IHRhcmdldC5wYXJlbnROb2RlIDogdGFyZ2V0LFxuLy8gICAgICAgICBvcHRpb25zID0ge2luZGV4OiBsaW5rLCBldmVudDogZXZlbnR9LFxuLy8gICAgICAgICBsaW5rcyA9IHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKTtcbi8vICAgICBibHVlaW1wLkdhbGxlcnkobGlua3MsIG9wdGlvbnMpO1xuLy8gfTtcblxuXG5cblxuXG5cbiAgICBmdW5jdGlvbiBwcmludF9vYihkYXRhKSB7XG4gICAgICAgIHZhciBodG1sID0gJzxwcmUgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCByZWQ7IHBhZGRpbmc6IDEwcHg7XCI+JyArIEpTT04uc3RyaW5naWZ5KGRhdGEpICsgJzwvcHJlPidcbiAgICAgICAgJChcImJvZHlcIikucHJlcGVuZChodG1sKTtcbiAgICB9XG5cbiAgICAkKGRvY3VtZW50KS5vbihcImNoYW5nZVwiLCBcIi51c2VyRmlsZVwiLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIHZhciBpbnB1dFZhbHVlID0gJCh0aGlzKS52YWwoKS50cmltKCk7XG5cbiAgICAgICAgaWYgKGlucHV0VmFsdWUgIT0gXCJcIikge1xuXG4gICAgICAgICAgICB2YXIgZmlsZXMgPSBldmVudC50YXJnZXQuZmlsZXM7XG4gICAgICAgICAgICB2YXIgaW5wdXRJZCA9ICQodGhpcykuYXR0cihcImlkXCIpO1xuICAgICAgICAgICAgdmFyIHRoaXNMYWJlbCA9ICQoZG9jdW1lbnQpLmZpbmQoXCJsYWJlbFtmb3I9J1wiK2lucHV0SWQrXCInXVwiKTtcbiAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XG4gICAgICAgICAgICB2YXIgcGljUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgICAgICAgICAgdmFyIG5ld0lucHV0ID0gJCh0aGlzKS5jbG9uZSgpO1xuICAgICAgICAgICAgdmFyIG5ld0xhYmVsID0gJCh0aGlzTGFiZWwpLmNsb25lKCk7XG5cbiAgICAgICAgICAgIHZhciByZXMgPSBpbnB1dElkLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgIHZhciBuZXdJZE51bWJlciA9IHBhcnNlSW50KHJlc1sxXSkgKyAxO1xuICAgICAgICAgICAgdmFyIG5ld0lkID0gcmVzWzBdICsgXCJfXCIgKyBuZXdJZE51bWJlcjtcblxuICAgICAgICAgICAgJChuZXdMYWJlbCkuYXR0cihcImZvclwiLCBuZXdJZCk7XG4gICAgICAgICAgICAkKG5ld0lucHV0KS5hdHRyKFwiaWRcIiwgbmV3SWQpO1xuXG4gICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICAgICAgJChkaXYpLmFkZENsYXNzKFwiY29sLXhzLTYgY29sLXNtLTQgY29sLW1kLTMgY29sLWxnLTJcIik7XG4gICAgICAgICAgICAkKGRpdikuYXBwZW5kKG5ld0xhYmVsKVxuICAgICAgICAgICAgJChkaXYpLmFwcGVuZChuZXdJbnB1dCk7XG5cbiAgICAgICAgICAgICQoXCIjYWRkSW5wdXRBcmVhXCIpLmFwcGVuZChkaXYpO1xuXG4gICAgICAgICAgICBwaWNSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGljRmlsZSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgdmFyIHBpY0ZpbGUgPSBmaWxlLnR5cGUgPT0gXCJ2aWRlby9tcDRcIiA/IFwiL2ltYWdlcy92aWRlby1wb3N0ZXIuanBnXCIgOiBldmVudC50YXJnZXQucmVzdWx0O1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzTGFiZWwpLmZpbmQoXCJzcGFuXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQodGhpc0xhYmVsKS5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwidXJsKFwiK3BpY0ZpbGUrXCIpXCIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHBpY1JlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICB9XG4gICAgfSlcbn0pXG4iXX0=
